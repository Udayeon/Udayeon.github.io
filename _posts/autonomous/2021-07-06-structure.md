---
layout: post
title: About Autonomous Vehicle (2)
description: |
  자율 주행 자동차의 구조
tags:
  - autonomous
author: Udayeon
published: true
---

# Components of Autonomous Cars
- [Sensor](https://udayeon.github.io/2021/07/06/structure/#sensor)
	- [Lidar](https://udayeon.github.io/2021/07/06/structure/#1-lidar)
    - [Radar](https://udayeon.github.io/2021/07/06/structure/#2-radar)
    - [Camera](https://udayeon.github.io/2021/07/06/structure/#3-camera)
- [ECU]
- [Driving Device]
    - [Power Steering]
    - [Throttle Valve]
    - [Electronic Brake]

자율주행 자동차는 **센서, 연산장치, 구동장치** 의 상호작용으로 동작한다. 
**센서** 가 주변 환경을 인식하면 이 센서 정보를 바탕으로 **연산 장치** 가 적절한 판단 및 제어를 결정하고 
**구동장치** 가 원하는 속도, 방향으로 주행할 수 있도록 Streeing Wheel이나 가속 또는 제동 등을 조작한다.

## Sensor
센서가 발달함에 따라, 자율주행자동차의 환경 인식능력을 상승해 정밀지도의 제작이 가능했고, 
V2X를 통해 안전성도 확보하게 되었다. 자율주행자동차 등장 초기에는 센서가 매우 고가였으나 최근 다양한 기업이 경쟁에 뛰어들면서 가격은 낮아지고 정밀도와 인식률은 높아지는 추세다.

>**V2X** : Vehicle to everything 의 약자로, 자동차가 자율주행을 위해 도로에 있는 다양한 요소와 소통하는 기술

- V2V (Vehicle to Vehicle) : 차량-차량 소통
- V2I (Vehicle to Infrastructure) : 차량-도로인프라 소통
- V2P (Vehicle to Pedestrian) : 차량-보행자 소통


### 1. Lidar
 * * *
 
 레이저를 사용해 물체까지의 거리를 측정하는 센서로써 환경을 인식한다. 라이다 센서의 원리는 광원에서 나온
 레이저가 물체에 반사되어 다시 센서로 돌아오기 까지의 시간을 측정해 거리를 추정한다. 이 때, 걸리는 총 
 시간을 **시간 지연** 이라 하는데 물체까지의 거리 d는 다음과 같다
{:.message} 
>
```
d= 1/2 c X t_d
(c: 빛의 속도, t_d : 시간 지연)
```

 레이저를 이용해 거리를 측정한다는 점에서 레이저 거리 측정기와 비슷해 보이지만, 라이다는 **전 방향으로 레이저를 쏘고 레이저가 도달하는 모든 지점의 거리를 동시에 측정**할 수 있다는 점에서 레이저 거리 측정기와는 다르다. 
 라이다는 **900~1500nm 의 파장을 갖는 적외선 계열**의 빛을 사용하는데 눈에는 보이지 않아도 장시간 노출되면 인체에 해로우므로 라이다의 빛 세기를 법으로 규제하고 있다. 
{:.message} 

#### * Type

- **Flash Lidar**
 
 **한 광원에서 나온 레이저를 여러 갈래**로 나눈다. 이 레이저가 물체에 반사되어 다시 돌아가 이미지 센서에 사진처럼 맺히게 된다. 맺힌 빛들의 위치에 따른 시간차를 각각 계측해 상에 맺힌 물체까지의 거리를 모두 추정할 수 있다.디지털 카메라 같은 Image sensor array를 이용해 **생산비용이 저렴**하지만, 레이저 빔이 여러 갈래로 나뉘기 때문에 **멀리 있는 물체의 정확한 인식이 어렵다.**
 
- **Rotating mirror Lidar**

  센서 내부의 모터를 이용해 **고속으로 회전하는 거울**을 설치한다. 회전하는 거울에  레이저를 쏘면 레이저는 360도 방향으로 퍼져나간다. 퍼져나간 빛이 물체를 맞고 반사하면 마찬가지로 거울을 통해 센서로 되돌아 오고 센서에서는 레이저가 발사된 지점에서의 거울의 각도와 레이저가 돌아오기 까지의 시간차를 이용해 물체의 위치를 계측할 수 있다. 레이저가 모아서 쏘아지므로 멀리 있는 **물체의 정밀한 인식이 가능**하지만 **가격이 비싸고** 고속 회전을 해야하므로 **진동이 발생**한다는 단점이 있다.

#### Pros and Cons

  |Lidar|장점|단점|
  |:----|:---|:---|
  |     |- 높은 정밀도와 해상도|- 빛을 이용하므로 악천후에 약함|
  |     |                      |- 너무 비쌈|
  |     |                      |- 360도 전방향에 대한 무수히 많은 지점을 계측하므로 데이터 처리에 고가의 연산장치 필요.|
  
  그럼에도 불구하고 Lidar는 자율주행 기술을 완성도 있게 구현하는 데 필수적인 센서이므로 많은 회사들이 **가격 저하**와 **소형화**에 힘쓰고 있다.
  
  
### 2.Radar
* * *

ADAS에 적용되는 센서로 **전자파**를 이용해 목표물까지의 거리를 측정한다. **도플러효과**를 이용해 목표물의 속도를 정밀하게 측정할 수 있다. **도플러효과**란 목표물의 속도에 따라 돌아오는 파장의 주파수가 달라지는 효과를 말한다. 목표물에 맞고 돌아오는 파장의 주파수를 측정하고, 센서에서 보내진 원래 주파수와의 차이를 통해 목표물과의 상대속도를 측정할 수 있다.
{:.message}

#### Pros and Cons

|Radar|장점|단점|
|:----|:---|:---|
|	  |- 날씨나 환경조건의 영향을 적게 받는다.|- 측정값의 정밀도와 해상도가 떨어진다|

라이다의 적외선 레이저가 μm으로 아주 짧아 먼지나 안개 입자의 영향을 받는데 반해, 
레이더는 mm범뮈의 파장을 사용하므로 먼지나 안개와 같은 악천후의 영향을 받지 않는다. 
레이더는 물체가 있는 지점만을 정확히 인식할 수 있고 어떤 물체인지, 크기는 어떤지 등은 알기 어렵다.

#### 발전방향

1. 다양한 안전시스템 개발(ACC,LKAS...)
2. 소형화 
3. 79GHz 대역 고해상도 레이더 개발
4. 3차원 Scanning으로 높이까지 측정하도록.(현재는 2차원 스캔이라 거리&횡방향 정보만 획득 가능)

### 3.Camera
* * *

**적외선 또는 가시광선 영역의 빛을 감지할 수 있는 센서로 이미지를 얻어, 이미지처리 알고리즘을 통해 환경을 인식한다.** 차선을 인식해 차선 이탈을 방지하는 시스템이나 보행자 감지 시스템에 사용된다.
{:.message}

#### Pros and Cons

|Camera|장점|단점|
|:-----|:---|:---|
|	   |- 가격이 저렴하다.|- 조명이나 날씨의 영향을 많이 받는다.|
|	   |				  |- 이미지 처리에 많은 연산량이 필요하다.|

#### 발전방향

이미지 한 장에 100만 픽샐 이상의 해상도를 요하므로 빠른 데이터 처리 프로세서가 필요하다. 최근 **딥러닝** 기법의 발달로 인식률이 상승하고 있다. 전문 프로세서를 통한 처리속도 개선도 이루어지는 추세이다.
