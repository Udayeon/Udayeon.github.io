---
layout: post
title: Path Planning
description: |
  [K-mooc ììœ¨ì£¼í–‰ìë™ì°¨ê¸°ìˆ (êµ­ë¯¼ëŒ€í•™êµ) ê°•ì˜](http://www.kmooc.kr/courses/course-v1:KMUk+CK-KMUK_02+2021_1/course/)
  
tags:
  - autonomous
use_math : true
comments : true
author: Udayeon
published: true
---

# Path Planning
Path Planning, Path Generation, Path Following, Algorithm

- [1. Path Planning](https://udayeon.github.io/2021/07/11/path-planning/#1-path-planning)
  - [1.1. Definiton](https://udayeon.github.io/2021/07/11/path-planning/#11-definition)
  - [1.2. Type](https://udayeon.github.io/2021/07/11/path-planning/#12-type)
  - [1.3. Challenges](https://udayeon.github.io/2021/07/11/path-planning/#13-challenges)
  - [1.4. Perception in path planning](https://udayeon.github.io/2021/07/11/path-planning/#14-perception-in-path-planning)
 
- [2. Path Generation](https://udayeon.github.io/2021/07/11/path-planning/#2-path-generation)
  - [2.1. Definition](https://udayeon.github.io/2021/07/11/path-planning/#21-definition)
  - [2.2. Lane Keeping](https://udayeon.github.io/2021/07/11/path-planning/#22-lane-keeping)
  - [2.3. Challenges](https://udayeon.github.io/2021/07/11/path-planning/#23-challenges)
  - [2.4. A* Algorithm](https://udayeon.github.io/2021/07/11/path-planning/#24-a-algorithm) 
  - [2.5. RRT Algorithm](https://udayeon.github.io/2021/07/11/path-planning/#25-rrt-algorithm) 
  - [2.6. RRT* Algorithm](https://udayeon.github.io/2021/07/11/path-planning/#26-rrt-algorithm) 
 
- [3. Path Following](https://udayeon.github.io/2021/07/11/path-planning/#3-path-following)
  - [3.1. Definition](https://udayeon.github.io/2021/07/11/path-planning/#31-definition)
  - [3.2. Pure pursuit](https://udayeon.github.io/2021/07/11/path-planning/#33-pure-pursuit)
  - [3.3. Model Predictive Control, MPC](https://udayeon.github.io/2021/07/11/path-planning/#34-model-predictive-control-mpc)


# 1. Path Planning
* * * 

## 1.1. Definition
* * *
* í•œ ì§€ì ì—ì„œ ë‹¤ë¥¸ í•œ ì§€ì ê¹Œì§€ ê°€ëŠ” ë™ì•ˆ ì£¼ë³€ì„ ì¸ì‹í•˜ê³ , ì •ë³´ë¥¼ ì²˜ë¦¬í•´ ì ì ˆí•œ íŒë‹¨ì„ í•˜ì—¬ ê°€ì•¼í•  ê²½ë¡œë¥¼ ìƒì„±í•˜ê³ , ì •í™•í•œ ì œì–´ë¥¼ í†µí•´ ê¸¸ì„ ë”°ë¼ê°€ëŠ” ì¼ë ¨ì˜ ê³¼ì •.   
* ê²½ë¡œ ìƒì„±ì— í•„ìš”í•œ ê¸°ìˆ ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.                                                                  
- Path generation (ê²½ë¡œìƒì„±)
- Path following (ê²½ë¡œì¶”ì¢…) 
- Decision making 

## 1.2. type
* * * 
### 1.2.1. Global path planning
**ì „ì—­ê²½ë¡œê³„íš**   
![global](https://user-images.githubusercontent.com/69246778/125191437-68161880-e27d-11eb-8304-0ca8f018b7bb.jpg)   
* **ì „ì—­ ì§€ë„** ì•ˆì—ì„œ ì¶œë°œì -ë„ì°©ì ê¹Œì§€ ê°ˆ ìˆ˜ ìˆëŠ” **ìˆ˜ë§ì€ ê²½ë¡œ ì¤‘ í•˜ë‚˜**ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒ.   
* ì˜ˆë¥¼ ë“¤ì–´, ê°•ë‚¨ì—ì„œ êµ­ë¯¼ëŒ€í•™êµ ê¹Œì§€ ì—¬ëŸ¬ ê²½ë¡œë¥¼ ê¸°ì¤€(ìµœë‹¨ê±°ë¦¬ or ìµœì €ë¹„ìš©...)ì— ë”°ë¼ ê²°ì •.   
* ì´ë¯¸ í”íˆ ì œê³µ ë˜ëŠ” ì„œë¹„ìŠ¤ë¡œ ììœ¨ ì£¼í–‰ ë°œë‹¬ì— ë”°ë¼ í° ë³€í™”ê°€ í•„ìš”í•œ ì˜ì—­ì€ ì•„ë‹˜. 
{:.message}

### 1.2.2. Local path planning
**ì§€ì—­ê²½ë¡œê³„íš**   
![local](https://user-images.githubusercontent.com/69246778/125191438-6b110900-e27d-11eb-954c-3f8c35d79159.jpg)   
* ë‚´ ì°¨ ê·¼ì²˜ 100~500m ê¹Œì§€ì˜ ì§€ì—­ ì§€ë„ ì•ˆì—ì„œ **ì£¼ë³€ í™˜ê²½ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì²˜ë¦¬**í•˜ì—¬ ì£¼í–‰í•˜ë„ë¡ í•˜ëŠ” ê²ƒ.   
* ê²½ë¡œ í›„ë³´ë¥¼ **ì‹¤íƒ€ë˜**ì²˜ëŸ¼ ë¿Œë ¤ì„œ ê·¸ ì¤‘ ìµœì ì˜ ê²½ë¡œë¥¼ ì„ íƒí•˜ê³  ì„ íƒëœ ê²½ë¡œë¥¼ ë”°ë¼ê°.   
* **ììœ¨ ì£¼í–‰ ë°œë‹¬ì‹œ ì‹¤ì‹œê°„ìœ¼ë¡œ ê³„ì† ì„ íƒí•´ì•¼ í•˜ë¯€ë¡œ ì¤‘ìš”í•œ ì˜ì—­**   
![obsX](https://user-images.githubusercontent.com/69246778/125191295-99daaf80-e27c-11eb-8472-000365237479.jpg)   
![obsO](https://user-images.githubusercontent.com/69246778/125191312-b0810680-e27c-11eb-846e-4fd323b0c215.jpg)   
ë‘ ì§€ì  ì‚¬ì´ì˜ ìœ„í—˜ ìš”ì†Œë“¤ì„ í”¼í•˜ëŠ” ê²½ë¡œë¥¼ ì„ íƒí•˜ë˜ ë„ˆë¬´ ëŒì•„ê°€ë©´ íš¨ìœ¨ì„±ì´ ë–¨ì–´ì§€ê³ , ë„ˆë¬´ ê°€ë¡œì§€ë¥´ë©´ ì•ˆì „ì„±ì´ ë–¨ì–´ì§.   
* **íš¨ìœ¨ì„±ê³¼ ì•ˆì „ì„±ì„ ì˜ ì¡°ì ˆí•´ì•¼ í•¨.**   
* **ì‹¤ì‹œê°„ ì²˜ë¦¬ê°€ í•„ìš”í•˜ë¯€ë¡œ ë„ˆë¬´ ë¬´ê±°ìš´ ì•Œê³ ë¦¬ì¦˜ì„ ì“°ë©´ ì•ˆë¨**   
{:.message}

## 1.3. Challenges
* * *

|                               |                                                |
|:------------------------------|:-----------------------------------------------|
|**ê¸°ë³¸ì ì¸ ì°¨ì„  ìœ ì§€ ë° ì°¨ì„  ë³€ê²½** |                                                |
|**ì¢Œ/ìš°íšŒì „**                      |ì°¨ì„ ì´ ì—†ì„ ìˆ˜ë„ ìˆìŒ, ì£¼ë³€ ì°¨ëŸ‰ë„ ëª¨ë‘ ì‚´í´ì•¼í•¨|
|**ê³ ì†ë„ë¡œ ì§„ì… ë° ì´íƒˆ**          |                                                |
|**ì˜¤í† ë°”ì´, ìì „ê±°, í‚¥ë³´ë“œ**       |ì‚´ì§ë§Œ ë¹„ê»´ê°€ëŠ” ì£¼í–‰(human-like)                |
|**ê³ ì†ë„ë¡œì˜ í™”ë¬¼ì°¨ê°€ ëŠë¦° ê²½ìš°**  | ì°¨ì„  ë³€ê²½ í›„ ë‹¤ì‹œ ëŒì•„ì˜¤ê¸°|
|**ì„ì‹œ ê³µì‚¬ êµ¬ê°„**                |                                                |
|**í†µì‹  ê¸°ë°˜ ì •ë³´ì— ë”°ë¥¸ ì£¼í–‰**     |ê° ì°¨ëŸ‰ ê°„ì˜ ì£¼í–‰ ê²½ë¡œê°€ ê²¹ì¹˜ì§€ ì•Šê²Œ             |
|**ì—´ì•…í•œ ë‚ ì”¨**                   |ëˆˆ,ë¹„ë¡œ ì¸í•´ ë§ˆì°°ì´ ë‚®ì•„ì§€ëŠ” ê²½ìš° ì œë™ê±°ë¦¬ ë³€í™” ê³ ë ¤ (ì ì‘í˜• ì£¼í–‰ì „ëµ)|

**ì•ˆì „ì„±ê³¼ íš¨ìœ¨ì„±ì˜ ì ì • ì§€ì  ì°¾ê¸°**

## 1.4. Perception in path planning
* * * 
perceptioní•œ ì •ë³´ì˜ ì¢…ë¥˜ì— ë”°ë¼ ê²½ë¡œ ê³„íšì´ ë‹¬ë¼ì§.

|ì •ë³´                      |ê²½ë¡œ ê³„íš|
|:------------------------ |:-------|
|**object ìœ /ë¬´ì™€ ì£¼ë³€ì˜ ìœ„ì¹˜**| Search regionì— Objectê°€ ìˆë‚˜ ì—†ë‚˜ë§Œ ë”°ì ¸ì„œ, ìˆë‹¤ë©´ ê± ë©ˆì¶°ë²„ë¦¼(ë‹µë‹µ..)|
|**+ ì†ë„**                   |[Collision avoidance](https://udayeon.github.io/2021/07/11/path-planning/#collision-avoidance) ê³„ì‚°í•´ì„œ ì£¼í–‰ì „ëµ ìˆ˜ë¦½|
|**+ ì¢…ë¥˜**                   |Human-like í•œ ì£¼í–‰ (ì•½ê°„ë§Œ ë¹„ê»´ê°„ë‹¤ê±°ë‚˜..)|

# 2. Path generation
* * *

## 2.1. Definition
* * *
ì–´ë–¤ ê²½ë¡œë¥¼ ëŠì„ì—†ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒì„±í•´ì„œ ì„ íƒí•˜ëŠ” ì•Œê³ ë¦¬ì¦˜

## 2.2. Lane Keeping
ê²½ë¡œ ìƒì„±ì˜ ê°€ì¥ ê°„ë‹¨í•œ ê¸°ìˆ  ì¤‘ í•˜ë‚˜   
* * * 
### 2.2.1. Process
1. Deep Learning, Classical Vision ê¸°ìˆ ë¡œ ì°¨ì„  ì¸ì‹
2. ì°¨ì„  ì¤‘ì‹¬ì— Set Point ë„ì¶œ (ê²½ë¡œ ìƒì„±ê¸°ìˆ )
3. ê·¸ Set Point ë“¤ì„ ë‹¤í•­ì‹ ë³´ê°„ë²•ì„ ì´ìš©í•´ ì°¨ë¡œì˜ ì¤‘ì‹¬ Line í˜•ì„±
4. ê·¸ Pathë¥¼ ì¶”ì¢…
{:.message}

## 2.3. Challenges
* * *

|                                          |                                                        |
|:-----------------------------------------|:-------------------------------------------------------|
|**ì£¼ë³€ì— ì¥ì• ë¬¼X, ëª¨ë“  ì°¨ê°€ ìê¸° ìë¦¬ë¥¼ ì§€í‚´** |ì°¨ì„  ì¸ì‹í•´ì„œ ê± ë”°ë¥´ë©´ ë¨                               |
|**ì£¼ë³€ ì°¨ëŸ‰ ì¸ì ‘ or í™”ë¬¼ì°¨ê°€ ì˜†ì—**            |ì£¼ë³€ ì°¨ëŸ‰ ê³ ë ¤í•œ ë¯¸ì„¸ì¡°ì • í•„ìš”                           |
|**ê°“ê¸¸ ì£¼ì°¨ì°¨ëŸ‰ or ì˜¤í† ë°”ì´**                  |Human-likeí•œ ì£¼í–‰ìœ¼ë¡œ ì‚´ì§ë§Œ ë¹„ë¼ê¸°                      |    
|**ì¥ì• ë¬¼ ì—†ëŠ” êµì°¨ë¡œ**                        |ì‹ í˜¸ë§Œ ê³ ë ¤                                             |
|**ë³µì¡í•œ êµì°¨ë¡œ**                              |ì£¼ë³€ ë™ì ê°œì²´ ê³ ë ¤í•´ ìš°ì„  ìˆœìœ„ íŒë‹¨í•˜ì—¬ ë‹¤ì–‘í•˜ê²Œ ì£¼í–‰ê°€ëŠ¥|

## 2.4. A* Algorithm
* * *
### 2.4.1 Definition
* ì¶œë°œì ì—ì„œ ëª©ì ì§€ê¹Œì§€ ìµœë‹¨ê±°ë¦¬ë¥¼ êµ¬í•˜ëŠ” ê·¸ë˜í”„/[íŠ¸ë¦¬](https://udayeon.github.io/2021/07/11/path-planning/#tree-structure)
ì•Œê³ ë¦¬ì¦˜ ì¤‘ í•˜ë‚˜.   
{:.message}

### 2.4.2. features
1. í˜„ì‹¤ ì„¸ê³„ë¥¼ 2D gridë¡œ í‘œí˜„í•˜ê³  Grid Map ìƒì—ì„œ ìµœë‹¨ ê²½ë¡œë¥¼ ê³„ì†í•´ì„œ íƒìƒ‰í•´ì„œ íŒë‹¨.
![A1f1](https://user-images.githubusercontent.com/69246778/125193588-19ba4700-e288-11eb-8784-88d01797c9d6.jpg)   
2. Robotics ë¶„ì•¼ - ë¡œë´‡ì˜ ê²½ë¡œ ìƒì„±.   
3. ììœ¨ì£¼í–‰ ë¶„ì•¼ - ë¡œë´‡ë³´ë‹¤ ì œí•œì ì´ë¯€ë¡œ í™œìš© ê°€ëŠ¥.      
4. 8 ë°©í–¥ì˜ ê²©ìì— ëŒ€í•œ Costë¥¼ ê³„ì‚°í•´ ìµœì ì˜ ê²½ë¡œë¥¼ ì°¾ëŠ”ë‹¤.   
![A1cost](https://user-images.githubusercontent.com/69246778/125193623-51c18a00-e288-11eb-9180-b365d3e5f71e.jpg)     
5. ê²©ìì˜ í¬ê¸°ì— ë”°ë¼ íŠ¹ì„±ì´ ë‹¤ë¦„.   
![A1res](https://user-images.githubusercontent.com/69246778/125193666-8d5c5400-e288-11eb-8dcf-4bc708afee1c.jpg)   
- í¬ê²Œ ë‚˜ëˆ„ëŠ” ê²½ìš° : ê²©ì ìˆ˜ê°€ ì ìœ¼ë¯€ë¡œ ê³„ì‚°ëŸ‰ì— ë¶€ë‹´ì€ ì—†ì–´ ì‹¤ì‹œê°„ìœ¼ë¡œ ëŒë¦¬ê¸°ì— ìœ ë¦¬í•¨
- ì‘ê²Œ ë‚˜ëˆ„ëŠ” ê²½ìš° : í˜„ì‹¤ ì„¸ê³„ë¥¼ ë” ì˜ í‘œí˜„í•  ìˆ˜ ìˆì§€ë§Œ ê²©ìê°€ ë§ì•„ ê³„ì‚°ëŸ‰ì´ ëŠ˜ì–´ë‚œë‹¤.   
**ë”°ë¼ì„œ ì ì •í•œ ìˆ˜ì¤€ì˜ ê²©ìë¥¼ ì°¾ëŠ”ê²Œ ì¤‘ìš”í•˜ë‹¤. obstacle í¬ê¸°ì— ê¸°ë°˜í•´ í‘œí˜„ì´ ê°€ëŠ¥í•œ ì ì ˆí•œ ë‹¨ìœ„ ì„ íƒ**   
{:.message}

### 2.4.3. Process
![1](https://user-images.githubusercontent.com/69246778/125193762-2be8b500-e289-11eb-8201-88dce9308cc9.jpg)
![2](https://user-images.githubusercontent.com/69246778/125193879-bdf0bd80-e289-11eb-846c-fb71c0fd71bc.jpg)   
- **ê²½ë¡œ ì„ íƒ ì‹¤íŒ¨** : Open Listê°€ ë¹„ì–´ ìˆëŠ” ê²½ìš°, ì¡°ì‚¬í•  ë¶€ë¶„ì´ ì—†ìŒì„ ì˜ë¯¸í•˜ë¯€ë¡œ ê¸¸ì´ ì—†ë‹¤ê³  íŒë‹¨.   
- **ê²½ë¡œ ì„ íƒ ì„±ê³µ** : ëª©í‘œí•œ ì‚¬ê°í˜•ì´ Open Listì— ë“¤ì–´ê°€ëŠ” ê²½ìš°, ì•ìœ¼ë¡œ ì¡°ì‚¬í•  ê²½ë¡œ ì¤‘ì— ëª©ì ì§€ê°€ í¬í•¨ë˜ëŠ” ê²ƒ.    
**ğŸš¨ì£¼ì˜ğŸš¨**   
* íŠ¸ë¦¬ êµ¬ì¡° ì•Œê³ ë¦¬ì¦˜ì€ ê²½ë¡œ ì„ íƒ ê³¼ì •ì´ ì‹œì‘ì—ì„œ ëìœ¼ë¡œ ê°€ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ëì—ì„œ ì‹œì‘ìœ¼ë¡œ ê±°ê¾¸ë¡œ ê°€ëŠ” ê²ƒ.   
* ëª©í‘œí•œ ì‚¬ê°í˜•ì´ Open listì— ë“¤ì–´ê°€ëŠ” ê²½ìš°ì—, ê·¸ ë•Œë¶€í„° ë„ì°©ì ë¶€í„° ì¶œë°œì ê¹Œì§€ ì¬ê·€ì ìœ¼ë¡œ (ë¶€ëª¨ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ëŠ” ë°©í–¥ìœ¼ë¡œ)   
Pathë¥¼ ì‡ëŠ”ë‹¤.
{:.message}


## 2.5. RRT Algorithm
* * *
### 2.5.1. Definition
* **Rapidly-exploring Random Tree**
* ë¬´ì‘ìœ„ ìƒ˜í”Œë§ì„ ì‚¬ìš©í•˜ì—¬ ê³ ì°¨ì›ì˜ êµ¬ì„±ê³µê°„ì„ íƒìƒ‰í•˜ëŠ” ê²½ë¡œ ê³„íš ì•Œê³ ë¦¬ì¦˜.
![RRT](https://user-images.githubusercontent.com/69246778/125198047-3c099000-e29b-11eb-9a1c-4f34f73b8020.jpg)
* Xrandì™€ ê°€ì¥ ê°€ê¹Œìš´ ì  Xnearì‚¬ì´ì— ì„ì˜ì˜ ì  Xnewë¥¼ ì„¤ì •í•˜ê³  Xrandë¥¼ ì´ ìƒˆë¡œìš´ Xnewë¡œ í¸ì…ì‹œí‚´.   
 ê·¸ë¦¬ê³  ë‹¤ì‹œ, Xrandë¥¼ ë¿Œë¦° í›„ Xrandì™€ ê°€ì¥ ê°€ê¹Œìš´ ì  Xnearë¥¼ êµ¬í•˜ê³  Xrandì™€ Xnear ì‚¬ì´ì— ì„ì˜ì˜ ì  Xnewë¥¼ ì„¤ì •.   
 Xrandë¥¼ ì´ ìƒˆë¡œìš´ Xnewì— í¸ì…. ìœ„ ê³¼ì •ì„ ëª©ì ì§€ì— ë‹¤ë‹¤ë¥¼ ë•Œ ê¹Œì§€ ë°˜ë³µí•œë‹¤.
* ì¤‘ê°„ì— ì¥ì• ë¬¼ì— ê±¸ë¦¬ë©´ ìƒˆë¡œìš´ Xrandë¥¼ ë¿Œë¦°ë‹¤.
{:.message}

### 2.5.2. Features
* **ìƒ˜í”Œë§ ê¸°ë°˜**ì— ì˜ê±°í•œ ë°©ì‹
* ì‹œì‘ì ê³¼ ëª©ì ì§€ê°€ ì •í•´ì§€ë©´ ì„ì˜ì˜ Xrandë¥¼ ë½‘ì•„ ê²€ìƒ‰íŠ¸ë¦¬ Të¥¼ ê³„ì† í™•ì¥. (ì‹ ê²½ë§,ë‚˜ë­‡ê°€ì§€ì²˜ëŸ¼...)   
* ì´ë•Œ, XrandëŠ” ì¼ë°˜ì ìœ¼ë¡œ ê· ë“±ë¶„í¬ë¥¼ ì‚¬ìš©í•´ ì„ íƒí•˜ê³  ëª©ì ì§€ì— ë¹ ë¥´ê²Œ ë‹¤ë‹¤ë¥´ê¸° ìœ„í•´ ëª©ì ì§€ì— ì¹˜ìš°ì¹œ ë¶„í¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŒ.   
* **ğŸš¨ì£¼ì˜ğŸš¨**  íŠ¸ë¦¬ Tê°€ ëª©ì ì§€ì— ë‹¤ë‹¤ë¥´ë©´ ëª©ì ì§€ë¶€í„° ì‹œì‘ì ê¹Œì§€ **ì¬ê·€ì ìœ¼ë¡œ** Treeë¥¼ ê²€ìƒ‰í•˜ì—¬ ê²½ë¡œë¥¼ íƒìƒ‰.   
{:.message}

### 2.5.2. Pseudo Code
![RRTseudo](https://user-images.githubusercontent.com/69246778/125198056-42980780-e29b-11eb-8e18-01094a79204d.jpg)
{:.message}

### 2.5.3. limit
ëœë¤ìœ¼ë¡œ ìƒ˜í”Œë§í•˜ë¯€ë¡œ ìµœì í™”(Optimality)ë¥¼ ë³´ì¥í•˜ì§„ ì•ŠìŒ. ë”°ë¼ì„œ RRT* ë“±ì¥.

## 2.6. RRT* Algorithm
* * *
### 2.6.1. Definiton 
![rrtstar](https://user-images.githubusercontent.com/69246778/125198183-d4a01000-e29b-11eb-8c36-7a6ff32e24b3.jpg)
* RRTì•Œê³ ë¦¬ì¦˜ì—ì„œ **Optimalityë¥¼ í–¥ìƒ** ì‹œí‚¨ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ìµœì ì˜ ì´ë™ ê³„íšì„ ìœ„í•œ Cost functionì„ ë„ì….   
* ìƒˆë¡œìš´ Stateë¥¼ ë½‘ì„ ë•Œë§ˆë‹¤ new stateì˜ Neighborë“¤ì„ Optimal pathë¡œ [rewiring](https://udayeon.github.io/2021/07/11/path-planning/#rewiring).   
* Xnewì˜ ì¼ì • ë°˜ê²½ ë‚´ì˜ ì–´ë–¤ nodeë“¤ì˜ í›„ë³´ setë¥¼ ì¶”ë¦¬ê³  ê·¸ í›„ë³´ setì— ìµœì  ê²€ì‚¬ë¥¼ í•´ì„œ Best parent Nodeë¥¼ ì„¤ì •.   
* ì¦‰, ìƒˆë¡­ê²Œ ë¿Œë¦° Xrandì™€ ê°€ì¥ ê°€ê¹Œìš´ ì ì„ ë‹¨ìˆœíˆ ì—°ê²°í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ Xrandë¥¼ ë‘˜ëŸ¬ì‹¼ ì—¬ëŸ¬ í›„ë³´ setì—ì„œ ìµœì ì¸ ì ì„ ì°¾ì•„ ë‹¤ì‹œ ì—°ê²°í•  ìˆ˜ë„ ìˆìŒ. ê·¸ëŸ¬ë©´ ìƒˆë¡œìš´ ë¶€ëª¨ ë…¸ë“œê°€ íƒ„ìƒí•˜ê²Œ ë¨.
{:.message}

### 2.6.2. Pseudo Code
![RRTstarseudo](https://user-images.githubusercontent.com/69246778/125198194-df5aa500-e29b-11eb-813b-6035f12c6540.jpg)
{:.message}

### 2.6.3. RRT vs RRT*

|     ê³µí†µì    |
|:----------------------|
| - **ì‹¤ì‹œê°„ì„±** ë³´ì¥ ë˜ì–´ì•¼ í•¨ (obstacleì •ë³´ë„ ê³ ë ¤)|
| - **ì ì •ëŸ‰ì˜ íŠ¸ë¦¬êµ¬ì¡°** (ë„ˆë¬´ ë§ìœ¼ë©´ ì‹¤ì‹œê°„ì„±ì´ ë–¨ì–´ì§€ê³  ì ìœ¼ë©´ ì •í™•ë„ê°€ ë–¨ì–´ì§„ë‹¤.)|
{:.message}

# 3. Path following
* * *
## 3.1. Definition
* * * 
* ê²½ë¡œ ìƒì„± ê³¼ì •ì„ í†µí•´ ì„ íƒëœ ì‹¤ì‹œê°„ ê²½ë¡œë¥¼ ì°¨ëŸ‰ì´ ì •í™•í•˜ê²Œ ë”°ë¼ê°€ê²Œ í•˜ëŠ” ê¸°ìˆ ë¡œ ì ì ˆí•œ **ì¡°í–¥ê°ê³¼ ì†ë„**ë¥¼ ê²°ì •.   
* ì°¨ëŸ‰ì´ ì›€ì§ì´ëŠ” ê²ƒì„ ì¡°ì ˆí•˜ë¯€ë¡œ **ì œì–´**ì™€ ë°€ì ‘í•œ ê´€ë ¨.   
* **ì‹¤ì‹œê°„ì„±ì„ ë³´ì¥**í•´ì•¼ í•œë‹¤. 
* Lane keepingìœ¼ë¡œ ê²°ì •í•œ ì°¨ì„ ì„ cmë‹¨ìœ„ë¡œ ì •í™•í•˜ê³  ì •ë°€í•˜ê²Œ ì¶”ì¢…í•˜ëŠ” ê²ƒì´ ì¤‘ìš”. í¬ê¸°ê°€ í° ì°¨ëŸ‰ì˜ ê²½ìš° ë°©í–¥ì´ ì¡°ê¸ˆë§Œ í‹€ì–´ì ¸ë„ ì˜† ì°¨ì„ ì„ ì¹¨ë²”í•  ìœ„í—˜ì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤.   

## 3.2. Challenges
* * * 

|           |                                                                                |
|:----------|:-------------------------------------------------------------------------------|
|**ê³ ì†ì¼ ê²½ìš°**| ê°™ì€ ê°ë„ ë³€í™”ë¼ë„ ì €ì†ì— ë¹„í•´ lateral positionì˜ ë°œìƒì´ í¬ë¯€ë¡œ ì •ë°€ ì£¼í–‰ì´ í•„ìš”.|
|**ì¢ì€ ê³¨ëª©ê¸¸**| ë‚®ì€ ì†ë„ë¡œ ì„¬ì„¸í•˜ê³  ì •ë°€í•œ ì¡°í–¥ê° ì œì–´ í•„ìš”|
|**ê·¹ì‹¬í•œ ê°ë„ì˜ ì½”ë„ˆ**| Human-likeí•œ ì£¼í–‰ í•„ìš”|

## 3.3. Pure Pursuit
* * *
### 3.3.1 Definition
![pure1](https://user-images.githubusercontent.com/69246778/125227247-7f044b80-e30d-11eb-99fd-6e7768084ce9.jpg)
* í•˜ë‚˜ì˜ ì ì„ ì„ íƒí•´ ê²½ë¡œë¥¼ ì¶”ì¢…í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ëª©í‘œ ê²½ë¡œë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶”ì¢…í•˜ëŠ” ê¸°í•˜í•™ ê¸°ë°˜ì˜ ì•Œê³ ë¦¬ì¦˜.   
* í•˜ë‚˜ì˜ ëª©í‘œ ì§€ì ì˜ ê³¨ë¼ì„œ ì§€ì†ì ìœ¼ë¡œ ì¶”ì¢…í•  ìˆ˜ ìˆëŠ” Steering angleì„ ë°œí–‰
*  **ì œì–´**ì™€ ë°€ì ‘í•œ ê´€ë ¨.   
* **ì°¨ëŸ‰ì˜ Pathì˜ í•œ ì ì„, ì›í˜¸ë¥¼ ê·¸ë¦¬ë©° ë”°ë¼ê°€ëŠ” ë°©ë²•**ì´ë¼ í•  ìˆ˜ ìˆë‹¤.  
{:.message}

### 3.3.3. Look-ahead distance 
![purehigh](https://user-images.githubusercontent.com/69246778/125227267-89264a00-e30d-11eb-9c51-577f20e417a8.jpg)
![purelow](https://user-images.githubusercontent.com/69246778/125227259-86c3f000-e30d-11eb-99b4-2fdbe8673560.jpg)
* pathì˜ ìˆ˜ë§ì€ ì ë“¤ ì¤‘ ì–´ë–¤ ì ì„ ì¡ì„ì§€ **ê¸°ì¤€**ì„ ì œì‹œí•˜ëŠ” ê°’.    
* **ì†ë„ì™€ ë¹„ë¡€**í•˜ë¯€ë¡œ ì €ì†ì¼ ë•Œ ê°€ê¹Œìš´ ì ì„ ì„ íƒí•˜ê³ , ê³ ì†ì¼ ë•Œ ë¨¼ ì ì„ ì„ íƒ.   
{:.message}

### 3.3.4. Look-ahead distance setting
* ê°€ì•¼í•˜ëŠ” pathì˜ ì •ë³´(Way Point)ë¥¼ ë¯¸ë¦¬ ì•Œ ìˆ˜ ìˆìœ¼ë©´ ì¢‹ë‹¤.   
  EX) ì§ì§„í•˜ë‹¤ê°€ ê·¹ì‹¬í•œ ì½”ë„ˆë¥¼ ë¯¸ë¦¬ ì¸ì§€í•˜ì—¬ Look-ahead distanceë¥¼ ë¯¸ë¦¬ ì¤„ì¸ë‹¤.
* Maximun/Minimum boundê°€ í•„ìš”í•˜ë‹¤. ë„ˆë¬´ ì‘ê±°ë‚˜ í¬ë©´ ì„±ëŠ¥ì´ ë¶ˆì•ˆì •í•˜ë‹¤.
* Velocity Control: Obstacleì´ ì¡´ì¬í•˜ë©´ ì œë™ê±°ë¦¬ ê¸°ë°˜ì˜ ê°€/ê°ì† ê²°ì •   
![CodeCogsEqn](https://user-images.githubusercontent.com/69246778/125229028-dbb53580-e310-11eb-89fe-55b97ea0e6ff.gif)   
(d_2:ì œë™ì •ì§€ê±°ë¦¬, v,V : ì£¼í–‰ì†ë„, g:ì¤‘ë ¥ê°€ì†ë„, f:ë…¸ë©´-íƒ€ì´ì–´ ê°„ ì¢…ë°©í–¥ ë¯¸ë„ëŸ¼ ë§ˆì°°ê³„ìˆ˜)
{:.message}

## 3.4. Model Predictive Control, MPC
* * *
### 3.4.1. Definition 
* ëª©í‘œ ê²½ë¡œë¥¼ ìµœì ìœ¼ë¡œ ì¶”ì¢…í•˜ì—¬ ì«“ì•„ê°€ëŠ” ì•Œê³ ë¦¬ì¦˜
* Pathë¥¼ ì¸ìœ„ì ìœ¼ë¡œ ë°”ê¿”ê°€ë©´ì„œ ì‹¤ì‹œê°„ ëŒ€ì‘
* ì°¨ëŸ‰ **ì œì–´** ì™€ ë°€ì ‘í•œ ê´€ë ¨
* **í˜„ì¬ì •ë³´ + ì˜ˆì¸¡ì •ë³´(ì°°ë‚˜ì˜ ì§§ì€ ì‹œê°„ í›„ë¥¼ ì˜ˆì¸¡)** ë¥¼ ì´ìš©í•´ ì•ˆì •ì„±ì„ ë†’ì„ 
{:.message}

### 3.4.2. Pure pursuit VS MPC

|**Pure pursuit**          |**MPC**                |
|:-------------------------|:-------------------|
|* ê¸°í•˜í•™ì  ì ‘ê·¼ë°©ë²•        |* ëª¨ë¸ ì˜ˆì¸¡ ì ‘ê·¼ ë°©ë²• | 
|* ë‹¤ì–‘í•œ ë™ì—­í•™ì  ë³€ìˆ˜ ì œì™¸ |* ì‹¤ì‹œê°„ ì˜ˆì¸¡ ë° ì¶”ì¢… |
|* ë¯¸ë˜ ì˜ˆì¸¡ ì–´ë ¤ì›€         |* ê´‘ë²”ìœ„í•œ ë²”ìœ„ì—ì„œ ì£¼ëª©ë°›ëŠ” ì—°êµ¬ ë¶„ì•¼|   
{:.message}




* * *
##### Tree structure
ê·¸ë˜í”„ì˜ ì¼ì¢…ìœ¼ë¡œ ì—¬ëŸ¬ ë…¸ë“œê°€ í•œ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¬ ìˆ˜ ì—†ëŠ” êµ¬ì¡°.   
ìµœìƒìœ„ ë…¸ë“œì¸ Root nodeì™€ ë¶€ëª¨ë…¸ë“œ(Parent node), ìì‹ë…¸ë“œ(Child node)ë¡œ êµ¬ì„±   

##### Rewiring
best parent ìƒì„± í›„ ì£¼ë³€ nodeë¥¼ ì¬í•´ì„, ê²½ë¡œ ì²´í¬í•˜ì—¬ edgeë¥¼ ëŠê±°ë‚˜ ë§Œë“¤ì–´ ëƒ„.   

##### Collision avoidance

* * *
##### ì°¸ê³ 
[RRT&RRT*](https://msc9533.github.io/irl-study-2020/algorithm/2020/04/24/RRT_RRTstar.html)
[seudo codeìë£Œ](http://www.kmooc.kr/courses/course-v1:KMUk+CK-KMUK_02+2021_1/courseware/25eed851127d4eaa866d7f05056b5158/02b7a4c06dbd48ea95603ce3889b35af/1?activate_block_id=block-v1%3AKMUk%2BCK-KMUK_02%2B2021_1%2Btype%40vertical%2Bblock%4047ab7edf20e242819d768524fd3ce39b)
[pure pursuit](https://www.researchgate.net/figure/Illustration-of-Pure-Pursuit-algorithm-principle-Knowing-the-current-robot-location-and_fig6_319714221)
