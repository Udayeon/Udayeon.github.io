---
layout: post
title: Semminar1 - Path Planning paper & MPC practice
description: |
  경로계획 관련 논문 조사 및 MPC 실습과제
  
tags:
  - autonomous
use_math : true
comments : true
author: Udayeon
published: false
---

# Path Planning paper & MPC practice
- 개요
- 논문 선정 기준
- 논문
  - Abstract
  - Introduction
- MPC 실습
- 고찰

# 개요
* * *
자율주행 차량이 목적지까지 가는 동안 주변을 인식하고 정보를 처리해 적절한 판단을 하여 가야할 경로를 생성하고(Path generation), 
정확한 제어를 통해 길을 따라가는(Path following) 일련의 과정을 경로 계획(Paht planning)이라 한다. 
특히, 자율주행 차량은 주변의 정보를 실시간으로 처리하여 주행 중 마주할 수 있는 다양한 상황에 대처할 수 있어야 하므로 지역경로계획의 중요성이 두드러진다. 
본 프로젝트는 2주에 한 번씩 진행하는 Lab seminar에 대비한 것으로 첫 번째 주제는 경로 계획과 관련된 논문을 하나 선정해 조사하고 15분간 발표하는 것이다.
또한, 경로추종 기술 중 하나인 MPC를 직접 실습해본다.

# 논문 선정 기준과 이유
* * *
* 자율주행 기술 동향이 잘 반영된 것(너무 오래되지 않은 것)
* 인용 횟수 많은 것
* 국내/국외 구분은 하지 않음
* 분량이 적당한 것
* 
선택한 논문은 자율주행 기술 중 경로추종, 그 중에서도 최근 각광 받고 있는 예측모델을 이용한 경로추종 방법에 대한 내용을 포함한다.
2017년 발표 이후 약 4600회의 피인용 횟수를 기록했고 분량은 6페이지로 2주 안에 조사하고 공부하기에 적당하고 생각했다. 

# 논문
* * *

## [Path Planning for Autonomous Vehicles using Model Predictive Control](https://ieeexplore.ieee.org/document/7995716/metrics#metrics)
* Author : Chang Liu1, Seungho Lee2, Scott Varnhagen2, H. Eric Tseng2
* 2017 IEEE Intelligent Vehicles Symposium (IV), June 11-14, 2017, Redondo Beach, CA, USA
* Abstract

## Abstract
* * *
MPC에 기반하여 mode에 따른 효율적인 자동전환 기술
{:.message}

동적환경에서의 경로 계획은 중요하지만, 차량 동력학적 제약과 주변의 차량을 고려해야 하므로 어려운 과제이다.   
일반적으로 차량의 궤적(경로)은 차선유지, 차선변경, 진입로 합병, 교차로 횡단 등에 따른 다양한 조작 mode를 수반한다.   
이러한 mode 전환을 위해 rule-based high-level decision making 기반의 선행기술이 존재한다.    
**그러나 우린 특정한 규칙을 규정하기보다 mode전환을 자동으로 수행하는, MPC 기반의 단일화된 경로계획을 제안한다.**   
안전을 보장하기 위해 우리는 주변 차량을 다각형으로 모델링하고 자차와 주변 차량 간의 충돌 회피를 수행하기 위해 MPC 제약 조건을 개발한다.   
안전하고 자연스러운 조작을 위해 MPC의 목적함수에 차선과 관련한 잠재적인 영역을 포함한다.   
제안된 방법을 다양한 test 시나리오에서 시뮬레이션했고, 그 결과는 안전을 보장하면서 자동으로 합리적인 조작을 제공하는 이 접근법이 효율적임을 증명한다. 

## Introduction
* * *
MPC 기반 어프로치가 각광받는 이유
{:.message}

지난 10년간 자율주행 차량이 크게 발전함에 따라 도로안전의 향상과 생산적인 이동시간 보장을 꾀하게 되었음.   
자율주행을 강화시키기 위해 중요한 기술 중 하나인 경로 계획은 nonlinear, non-holonomic한 차량의 움직임을 제어하고 어려운 결정과정을 수반함.      
또한 원하는 속도로 주행하거나 운전자를 보호하는 등의 조작도 필요해짐.   
연구는 경로 계획의 효율을 증가시키기 위해 계속 발전해왔음.   

초기에는 주로 그래프 검색 기반 플래너를 사용했는데, 이는 환경을 이산적으로 구성한 그래프에서 최단 경로를 생성하는 방식임.   
잘 알려진 방법인 Dijkstras(다익스트라), A* 알고리즘, 그리고 격자 상태의 알고리즘은 실시간 경로 계획을 가능케 함.
이 방법들이 효율성과 최적화를 보장함에도 불구하고 계획된 궤적의 품질은 그래프의 해상도에 따라 크게 달라질 수 있고
게다가, 경로계획 과정 중에 차량 동력학적 요소를 고려하기가 쉽지 않음.

곡선보간계획법(Clothoid, Polynominal, Spline, Bezier 등등) 도 널리 사용되었음.
이 방법들은 그래프 검색기반(다익스트라, A* 등)과 마찬가지로 소수의 제어점 또는 매개변수로만 곡선의 행동을 정의할 수 있기에 계산비용이 적다는 장점이 있음.
그러나 생성된 궤적의 최적화가 보장되진 않는단 게 단점.
또한, 경로 계획 과정에서 차량의 동력학적 요소가 고려되지 않으므로 발생한 경로를 다듬어서 그것들을 차량에 동적으로 실현할 수 있는 과정이 필요함.

RPM과 RRT같은 샘플링 기반 방법이 최근 인기임. 
그것들은 holonomic, non-holonomic 두 경우 모두에 있어서 실현가능한 궤적을 생성한다는 장점이 있음.
RRT* 는 심지어 발생한 경로의 점근적인 최적화를 보장하고 샘플의 수를 늘림으로써 전역 최적 솔루션에 거의 수렴하기도 함.
이러한 샘플링 기반의 방법들과 그것의 변형들은 연구 커뮤니티에서 자율주행에 널리 적용되고 있다.
그러나, 이런 접근법의 실질적인 사용은 샘플링 절차의 계산적인 복잡성에 의해 방해받고 있어서 실질적 사용이 어려움.

궤도 최적화에 기반화 접근법은 최근 자율주행 경로 계획에 있어 점점 주목받고 있음   
핵심적인 아이디어는 최적화 문제로써 경로계획을 계산하는 것임. 
최적화 문제는 원하는 차량의 성능, 그리고 관련 제약 조건을 고려하는 문제임.
이런 접근법의 장점은 원하는 경로의 모든 요구 조건을 쉽게 인코딩할 수 있는 유연성과 용이성.
그리고, 최근의 CVX와 Ipopt 같은 최적화 해결사의 발전은 실시간으로 빠르고 신뢰할 수 있는 경로를 생성할 수 있게 함.
전통적으로, 궤적 최적화 기반의 접근법은 시작점에서 목표점까지 이어지는 완전한 궤적을 해결하지만,   
주행 환경은 보통 동적이고 확률적이고 완전히 예측하기 어려움. 

그래서 최근 자율주행의 경로 계획에 있어서 MPC방법이 흔히 사용됨.
** MPC는 제한된 시간의 궤도 최적화 문제를 재귀적인 방식으로 해결하고 경로 계획 과정 중에 환경 상태를 업데이트하여 
고려할 수 있음. 그러므로, 우리는 자율주행의 온라인 경로계획에 MPC방법을 사용한다.**




