---
layout: post
title: (Python) 파이썬과 Opencv를 이용한 컴퓨터 비전 학습 Chapter03
description: |
  Opencv3 computer vision with python cookbook
hide_image: true
tags:
  - programming
published: true
---

# (Python) 파이썬과 Opencv를 이용한 컴퓨터 비전 학습 Chapter03

(Python) 파이썬과 Opencv를 이용한 컴퓨터 비전 학습 Chapter03

# Chapter03.윤곽선과 분할
* * *
픽셀은 단지 저장된 값 자체만을 알려줄 뿐 그 이상은 아니다. 윤곽선을 이용해 객체를 찾고, 인스턴스를 다른 인스턴스와 분리해 최종적으로 전체 장면을 이해하므로 윤곽선과 분할은 컴퓨터 비전에서 매우 중요하다

## 1. Otsu알고리즘을 사용한 그레이스케일 이미지의 이진화
```py
#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import cv2
import numpy as np
import matplotlib.pyplot as plt

image = cv2.imread('../data/Lena.png',0)

#Otus방법으로 임계값을 추정한다.
otsu_thr,otsu_mask = cv2.threshold(image,-1,1,cv2.THRESH_BINARY|cv2.THRESH_OTSU)
print('Estimated threshold (Otsu):',otsu_thr)

plt.figure()
plt.subplot(121)
plt.axis('off')
plt.title('original')
plt.imshow(image,cmap='gray')

plt.subplot(122)
plt.axis('off')
plt.title('Otsu threshold')
plt.imshow(otsu_mask,cmap='gray')

plt.tight_layout(True)
plt.show()
```

![스크린샷, 2021-09-14 15-06-53](https://user-images.githubusercontent.com/69246778/133203883-825741f1-ccc5-4a3f-bf69-50b9a41583ea.png)


## 2. 이진 이미지에서 외부 및 내부 윤곽선 찾기
```py
#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import cv2
import numpy as np
import matplotlib.pyplot as plt

#이진 이미지를 불러온다
image = cv2.imread('../data/BnW.png',0)

#외부 및 내부 윤곽선을 찾아 2단계의 계층으로 조직화
_,contours,hierarchy = cv2.findContours(image,cv2.RETR_CCOMP, cv2.CHAIN_APPROX_SIMPLE)

#외부 윤곽선 이진 마스크를 준비한다.
image_external = np.zeros(image.shape,image.dtype)
for i in range(len(contours)):
    if hierarchy[0][i][3]==-1:
        cv2.drawContours(image_external,contours,i,255,-1)
        


#내부 윤곽선 이진 마스크를 준비한다.
image_internal = np.zeros(image.shape,image.dtype)
for i in range(len(contours)):
    if hierarchy[0][i][3]!=-1:
        cv2.drawContours(image_internal,contours,i,255,-1)
        
#결과
plt.figure(figsize=(10,3))

plt.subplot(131)
plt.axis('off')
plt.title('original')
plt.imshow(image,cmap='gray')

plt.subplot(132)
plt.axis('off')
plt.title('external')
plt.imshow(image_external,cmap='gray')

plt.subplot(133)
plt.axis('off')
plt.title('internal')
plt.imshow(image_internal,cmap='gray')

plt.tight_layout(True)

plt.show()
```
![스크린샷, 2021-09-14 15-14-59](https://user-images.githubusercontent.com/69246778/133204781-a6d30da5-3cf9-4eff-bd17-5862c3b8be88.png)

## 3. 이진 이미지에서 연결된 구성 요소 추출
```py

```
