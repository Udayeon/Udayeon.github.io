---
layout: post
title: Matlab Driving Scenario Designer ToolBox
description: >
  Matlabì˜ Driving Scenario Designer ToolBoxë¥¼ ì´ìš©í•œ ì£¼í–‰í™˜ê²½ ì‹œë®¬ë ˆì´ì…˜
tags: [programming]
author: Udayeon
---
# (Matlab) Driving Scenario Designer ToolBox
* * *
- Project
- Process

# 1. Project
* * *
1. ì°¨ëŸ‰ì´ íŠ¹ì •í•œ Waypointsë¥¼ ë”°ë¼ ì£¼í–‰í•˜ë„ë¡ í•˜ê¸°
2. ì°¨ëŸ‰ì— ì„¼ì„œë¥¼ ì„¤ì¹˜í•˜ê³  Sensor Data ì¶”ì¶œí•˜ê¸°
{:.message}

# 2. Process
* * *

## 2.1. Driving Scenario Designer ToolBoxì—ì„œ Waypoints ì„¤ì •í•˜ê¸°
* * *

1. ì°¨ëŸ‰ì—ëŒ€ê³  ìš°í´ë¦­ >> Add Forward Waypoints >> ì›í•˜ëŠ” ìœ„ì¹˜ í´ë¦­ >> Enter   
2. ì™¼ìª½ì˜ Actors íƒ­ >> Trajectory >> (x,y,z)í•­ëª© ìˆ˜ì •
{:.message}

ìœ„ì˜ ë‘ ê°€ì§€ ë°©ë²•ì´ ìˆëŠ”ë°, ë‚´ê°€ í•˜ê³  ì‹¶ì€ê±´ ì´ë¯¸ ì£¼ì–´ì§„ Waypoints Dataë¥¼ Driving Scenario Designer ToolBoxë¡œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ë‹¤.   

## 2.2. Waypoints Dataë¥¼ ì‹œë‚˜ë¦¬ì˜¤ í™˜ê²½ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸°
* * *

1. ì‹œë‚˜ë¦¬ì˜¤ì— ë„ë¡œ, ì°¨ëŸ‰, ì„¼ì„œ, Waypointsë¥¼ ì•„ë¬´ë ‡ê²Œë‚˜ ë§Œë“ ë‹¤.   
![1](https://user-images.githubusercontent.com/69246778/126020854-430ed543-db7f-4aef-87fe-81e35a6f9395.png)   
   
2. ì´ë•Œ, ë„ë¡œë‚˜ ì°¨ëŸ‰ ìŠ¤í™ê°™ì€ê±° ë¯¸ë¦¬ ì„¤ì •í•´ë‘ë©´ í¸í•¨.   
   
3. 2ì°¨ë¡œ ê³ ì†ë„ë¡œë¥¼ ê°€ì •í•˜ê³  Number of LanesëŠ” 2ë¡œ, Lane WidthëŠ” 3.6ìœ¼ë¡œ, ì°¨ëŸ‰ ê¸¸ì´ëŠ” 3.05më¡œ ê°€ì •
   
4. ì´ë ‡ê²Œ êµ¬ì„±ëœ ì£¼í–‰ í™˜ê²½ì„  ğŸ”¥**Save >> Scenario File**ğŸ”¥
![2](https://user-images.githubusercontent.com/69246778/126020870-b1aff95f-b1a0-4bd0-966e-6bcf2e577b8a.png)
   
5. ì €ì¥ëœ Scenario Fileì„ Matlabì— ë¶ˆëŸ¬ì˜´
   
6. ë¶ˆëŸ¬ì˜¨ fileì•ˆì— **data Struct**ê°€ ìˆê³ , ì—¬ê¸°ì„œ í•„ìš”í•œ ë¶€ë¶„ì„ ìˆ˜ì •í•  ê²ƒ
![Inked3_LI](https://user-images.githubusercontent.com/69246778/126020914-65d21d15-5535-4e8d-96dc-30a2e18a0d3a.jpg)
   
7. ğŸ”¥**data >> ActorSpecifications >> Waypoints**ğŸ”¥ë¡œ ë“¤ì–´ê°€ì„œ Waypointsë¥¼ ìˆ˜ì •
![Inked4_LI](https://user-images.githubusercontent.com/69246778/126020942-ea367307-013c-40d3-a925-6bcefb588c04.jpg)
   
8. ìˆ˜ì •í•œ í›„ ë‹¤ë¥¸ì´ë¦„ìœ¼ë¡œ ì €ì¥
![5](https://user-images.githubusercontent.com/69246778/126020973-a3fe4ce4-aa26-47ea-a758-beed8cce3530.png)
![6](https://user-images.githubusercontent.com/69246778/126020986-a7f280c5-b6f8-4a1d-a083-63f9e2b4f2f6.png)
   
9. ë‹¤ì‹œ Driving Scenario Designer ToolBoxë¡œ ëŒì•„ì˜´
   
10. ğŸ”¥**Open >> Roads & Actors >> ì•„ê¹Œ ì €ì¥í•œ Waypoints data**ğŸ”¥
   
11. ê·¸ëŸ¼ ì™¸ë¶€ì˜ WayPoints ë°ì´í„°ë¡œ ìƒˆë¡œìš´ ì£¼í–‰í™˜ê²½ì´ ì„¤ì •ë¨
{:.message}

ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë„ë¡œì„¤ì •(Road Centes ê°™ì€ ê²ƒë“¤)ë„ ë³€ê²½í•´ì„œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ.   
Waypointsê°€ í•œ ì°¨ë¡œì˜ ì¤‘ì‹¬ì— ì˜¤ë„ë¡ í•˜ë ¤ê³  ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•¨
![Inkedroad_LI](https://user-images.githubusercontent.com/69246778/126020190-910887fe-2a9d-4a51-9723-198934f38c27.jpg)
```
Road Centers = Waypoints + [0, Width/2, 0]
```
   
## 2.3. ë„ë¡œì™€ Waypointsê°€ ëª¨ë‘ ì„¤ì •ë˜ë©´ ì°¨ëŸ‰ì— Sensorë¥¼ ë‹¬ì•„ë³´ì.
* * *

Toolstripì—ì„œ ì›í•˜ëŠ” ì„¼ì„œë¥¼ ì„ íƒí•˜ë©´ ì›í•˜ëŠ” ìœ„ì¹˜ì— ì„¤ì¹˜í•  ìˆ˜ ìˆìŒ.   
![Inked7_LI](https://user-images.githubusercontent.com/69246778/126021359-d2849b82-147d-4854-902f-034ded485841.jpg)
{:.message}

## 2.4. SensorDataë¥¼ ì´ìš©í•´ ë‹¤ì–‘í•œ ê°’ë“¤ì„ ì¶”ì¶œí•˜ê¸°
* * *

1. toolstripì˜ **Export > MATLAB Function**
2. ê·¸ëŸ¼ ë‹¤ìŒê³¼ ê°™ì€ í•¨ìˆ˜ í˜•íƒœë¡œ Exportë¨
![8](https://user-images.githubusercontent.com/69246778/126021043-0f6a09ee-3a0d-479e-a9cc-fc4e1a85e9bb.png)
3. ì´ í•¨ìˆ˜ íŒŒì¼ ì•ˆì— 3ê°œì˜ í•¨ìˆ˜ê°€ ìƒì„±ë˜ì–´ ìˆìŒ
  - generateSensorData
  - createSensor
  - createDrivingScenario
4. **generateSensorDataì™€ createDrivingScenarioë¥¼ í•˜ë‚˜ì˜ í•¨ìˆ˜íŒŒì¼ì— ë„£ê³ , CreateSensorëŠ” ë”°ë¡œ ì €ì¥í•´ë‘ .**
5. ì´ ì„¸ ê°œì˜ í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ê° Waypoint ë§ˆë‹¤ì˜ ê°’ì„ ì¶”ì¶œí•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ë§Œë“¤ ê±°
6. Scriptì²˜ìŒì— SensorDataë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì°¸ì¡°ë¥¼ ì„¤ì •í•´ì£¼ê³ , ì‹œë‚˜ë¦¬ì˜¤ ëë‚˜ëŠ” ì‹œê°„ê³¼ ë°ì´í„° ì¶”ì¶œ ê°„ê²©ì„ ì„¤ì •í•¨
{:.message}

```
reference_data=generateSensorData;   %ì°¸ì¡°
Tfinal = 6.04;                       %ì‹œë‚˜ë¦¬ì˜¤ ëŒë ¤ë³´ë©´ ëë‚  ë•Œê¹Œì§€ T=6.04sê±¸ë¦¼
T_size=0:0.0302:Tfinal;              %ë‚´ê°€ ê°€ì§„ Waypoints ë°ì´í‹°ê°€ 201ê°œ ì˜€ìœ¼ë¯€ë¡œ í•œ ê°„ê²© = 6.04/200 = 0.0302
                                        %T_size = 1*201
```

7. forë¬¸ ëŒë ¤ì„œ 201ê°œì˜ waypoint ê°ê°ë§ˆë‹¤ì˜ ì •ë³´ë¥¼ ì¶”ì¶œí•¨.
{:.message}

```
for k=1:size(T_size,2)
  ğŸš¨ìœ ì¶œê¸ˆì§€ ì½”ë“œì„ğŸš¨
end
```

**xë°©í–¥ì†ë„, yë°©í–¥ì†ë„, yaw, cruise angle, side-slip angle ì¶”ì¶œí•¨**






#####
[Driving Scenario](https://kr.mathworks.com/help//driving/ref/drivingscenario.html)
[Create Driving Scenario Programmatically](https://kr.mathworks.com/help/driving/ug/create-driving-scenario-programmatically.html?searchHighlight=driving%20scenario&s_tid=srchtitle)
